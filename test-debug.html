<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Test - Lottery Scanner</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f0f0f0;
        }
        .debug-container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px;
        }
        .test-button:hover {
            background: #0056b3;
        }
        .log-area {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
            font-family: monospace;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="debug-container">
        <h1>üîß Debug Test - Lottery Scanner</h1>
        
        <h2>Testes de Funcionalidade:</h2>
        <button class="test-button" onclick="testBasicClick()">Teste Clique B√°sico</button>
        <button class="test-button" onclick="testLibrariesLoaded()">Verificar Bibliotecas</button>
        <button class="test-button" onclick="testMobileDetection()">Detectar Dispositivo</button>
        <button class="test-button" onclick="testScanButton()">Testar Bot√£o SCAN</button>
        <button class="test-button" onclick="clearLog()">Limpar Log</button>
        
        <div id="logArea" class="log-area">Aguardando testes...
</div>
    </div>

    <script>
        let logArea = document.getElementById('logArea');
        
        function log(message) {
            const timestamp = new Date().toLocaleTimeString();
            logArea.textContent += `[${timestamp}] ${message}\n`;
            logArea.scrollTop = logArea.scrollHeight;
        }
        
        function clearLog() {
            logArea.textContent = 'Log limpo...\n';
        }
        
        function testBasicClick() {
            log('‚úÖ Teste de clique b√°sico funcionando!');
        }
        
        function testLibrariesLoaded() {
            log('üîç Verificando bibliotecas carregadas...');
            
            // Verificar ONNX Runtime
            if (typeof window.ort !== 'undefined') {
                log('‚úÖ ONNX Runtime carregado');
            } else {
                log('‚ùå ONNX Runtime N√ÉO carregado');
            }
            
            // Verificar OpenCV
            if (typeof window.cv !== 'undefined' && window.cv.Mat) {
                log('‚úÖ OpenCV carregado');
            } else {
                log('‚ùå OpenCV N√ÉO carregado');
            }
            
            // Verificar PaddleOCR
            if (typeof window.Paddle !== 'undefined') {
                log('‚úÖ PaddleOCR carregado');
            } else {
                log('‚ùå PaddleOCR N√ÉO carregado');
            }
        }
        
        function testMobileDetection() {
            log('üì± Testando detec√ß√£o de dispositivo m√≥vel...');
            
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || 
                            ('ontouchstart' in window) || 
                            (navigator.maxTouchPoints > 0);
            
            log(`Dispositivo m√≥vel detectado: ${isMobile ? 'SIM' : 'N√ÉO'}`);
            log(`User Agent: ${navigator.userAgent}`);
            log(`Touch support: ${'ontouchstart' in window}`);
            log(`Max touch points: ${navigator.maxTouchPoints}`);
        }
        
        function testScanButton() {
            log('üîç Testando bot√£o SCAN da aplica√ß√£o principal...');
            
            // Tentar encontrar o bot√£o SCAN
            const scanButton = document.getElementById('scanButton');
            if (scanButton) {
                log('‚úÖ Bot√£o SCAN encontrado');
                log(`Bot√£o habilitado: ${!scanButton.disabled}`);
                log(`Event listeners: ${scanButton.onclick ? 'onclick definido' : 'sem onclick'}`);
                
                // Tentar simular clique
                try {
                    scanButton.click();
                    log('‚úÖ Clique simulado executado');
                } catch (error) {
                    log(`‚ùå Erro ao simular clique: ${error.message}`);
                }
            } else {
                log('‚ùå Bot√£o SCAN N√ÉO encontrado - aplica√ß√£o principal n√£o carregada');
            }
        }
        
        // Log inicial
        log('üöÄ P√°gina de debug carregada');
        log('Aguardando comandos de teste...');
        
        // Verificar se as bibliotecas est√£o sendo carregadas
        setTimeout(() => {
            log('‚è∞ Verifica√ß√£o autom√°tica ap√≥s 3 segundos...');
            testLibrariesLoaded();
        }, 3000);
    </script>
</body>
</html>